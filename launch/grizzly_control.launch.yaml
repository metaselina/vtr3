## minimal launch file for controlling Grizzly via XBox controller

session_name: grizzly_control

# environment:
#   ROS_DOMAIN_ID: "1"  # set this to a unique number when multiple ROS2 processes running on the same network

# shell_command_before:
#   - source ${VTRVENV}/bin/activate
#   - source ${VTRSRC}/robots/ros2/install/setup.bash

start_directory: ${HOME}

suppress_history: false

windows:
  - window_name: grizzly_xbox
    layout: main-horizontal
    shell_command_before:
      - source ${VTRVENV}/bin/activate
      - source ${VTRSRC}/robots/ros2/install/setup.bash
    panes:
      # xbox controller for manually driving
      - ros2 launch utias_grizzly_description wired-grizzly_xbox_js0.launch
      # run ROS1/ROS2 bridge on Grizzly
      # - ssh -t administrator@192.168.131.1 "source ~/ros2_crystal/install/setup.bash && ros2 run ros1_bridge static_bridge_grizzly"

  - window_name: ros1_bridge
    layout: main-horizontal
    shell_command_before:
      - source /opt/ros/noetic/setup.bash
      - source /opt/ros/galactic/setup.bash
      - export ROS_IP="192.168.131.200"
      - export ROS_MASTER_URI="http://192.168.131.1:11311"
    panes:
      - ros2 run ros1_bridge dynamic_bridge