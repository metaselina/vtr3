# The tmux session name, has to be unique
session_name: waymo_lidar

# environment:
# PRIORITIZE: nice -n -5 ionice -c 2 -n 1

# Can run a script before tmuxp starts building the session
# before_script: /my/startup/script
shell_command_before:
  - "source ${VTRVENV}/bin/activate"
  - "source ${VTRDEPS}/ros_noetic/install/setup.bash"
  - "export ROS_PACKAGE_PATH=$ROS_PACKAGE_PATH:${VTRSRC}/drivers/honeycomb"

# The default start directory for the full session, ./ is this file's location
start_directory: ${VTRDATA}

# Add commands to bash history
suppress_history: false

# This is where we list all the stuff we want to run
windows:
  - window_name: waymo_lidar
    layout: main-horizontal
    panes:
      # record
      - echo "roslaunch hc hc.launch" # launch waymo honeycomb
      - echo "rosbag record -o ${VTRDATA}/waymo_lidar/$(date '+%F-%H-%M') /points"
      # replay
      - echo "rosbag play <bag file>"
      - echo "rosrun rviz rviz"
      - echo "roscore"
